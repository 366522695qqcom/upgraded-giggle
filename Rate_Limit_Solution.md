# 🚀 Cloudflare API速率限制解决方案

## 📊 问题分析

您的应用已经从"404错误"（无效账户ID）进步到"429错误"（API速率限制），这表明：

✅ **凭证配置成功**：CF_ACCOUNT_ID已正确设置
✅ **API连接正常**：Cloudflare能够识别您的账户
⚠️ **遇到频率限制**：短时间内请求过多

## 🎯 解决方案

### 方案1：快速解决（推荐）⚡

**临时禁用Cloudflare隧道功能**

在Zeabur中设置环境变量：

```
CF_ACCOUNT_ID=skip-tunnel
CF_API_TOKEN=skip-tunnel
```

**效果**：应用将跳过隧道创建，立即正常启动

### 方案2：等待策略 ⏰

**让速率限制自然过期**

1. 停止重新部署
2. 等待5-15分钟让API限制重置
3. 重新启动应用

### 方案3：代码优化 🔧

**添加重试机制**

修改 `src/server/Cloudflare.ts` 文件，添加指数退避重试逻辑

## 📝 实施建议

**推荐顺序**：

1. **先使用方案1** - 立即让应用运行起来
2. **测试应用功能** - 确保其他功能正常
3. **后续优化** - 有时间再实施方案3

## 📋 操作步骤

### Zeabur环境变量更新

1. 进入Zeabur项目控制台
2. 找到"环境变量"设置
3. 修改现有变量：
   - CF_ACCOUNT_ID → `skip-tunnel`
   - CF_API_TOKEN → `skip-tunnel`
4. 点击"重新部署"

### 验证结果

部署完成后检查日志，应该看到：

- 不再出现API错误
- 应用正常启动
- 可以通过分配的域名访问

## 🔍 后续优化

当应用稳定运行后，您可以：

- 重新配置真实的Cloudflare凭证
- 实施更智能的重试机制
- 优化隧道创建逻辑

## ⚠️ 注意事项

- 使用`skip-tunnel`只是临时方案
- 长期建议配置正确的Cloudflare隧道
- 保留真实的凭证信息以备后用

**选择哪个方案？需要我帮您实施吗？**
